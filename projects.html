<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects | My Dev Journey</title>

  <link rel="stylesheet" href="css/style.css" />

  <!-- âœ… PyScript core -->
  <link rel="stylesheet" href="https://pyscript.net/releases/2024.6.1/core.css" />
  <script src="https://pyscript.net/releases/2024.6.1/core.js"></script>
</head>

<body class="projects">
  <!-- ===== NAVBAR ===== -->
  <nav class="navbar">
    <div class="navbar-inner">
      <div class="logo">My Dev Journey</div>

      <div class="center-group">
        <div id="clock-container">
          <h2>ğŸ•’ Time</h2>
          <div id="uk-clock">--:--:--</div>
        </div>
        <button id="theme-toggle">ğŸŒ Light Mode</button>
      </div>

      <button id="menuToggle" class="menu-toggle">â˜°</button>
      <div class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="projects.html" class="active">Projects</a>
        <a href="sandbox.html">Sandbox</a>
      </div>
    </div>
  </nav>

  <!-- ===== PROJECTS SECTION ===== -->
  <section class="projects-showcase">
    <div class="projects-wrapper">

      <!-- LEFT COLUMN -->
      <div class="projects-col left">
        <div class="project-card">
          <h3>ğŸ’¡ My Projects</h3>
          <ul>
            <li><strong>ğŸ“ Portfolio â€”</strong> Responsive site built with HTML, CSS, and JS.</li>
            <li><strong>ğŸ PyScript Demo App â€”</strong> Interactive browser Python demo.</li>
            <li><strong>ğŸ® Game/App Dev â€”</strong> Pixel-art roguelike (Coming soon!)</li>
          </ul>
        </div>

        <!-- ğŸ PyScript Demo -->
        <div class="project-card py-demo">
          <h3>ğŸŒ¿ Python Interactive Demo (PyScript)</h3>
          <p>Run Python directly in your browser â€” try squaring a number!</p>

          <input id="numInput" type="number" placeholder="Enter number" />
          <button id="squareBtn" class="fun-btn" disabled>â³ Loading PyScript...</button>
          <p id="output" style="margin-top:6px;"></p>

          <py-script>
from js import document

def square_number(event=None):
    num = document.getElementById("numInput").value
    try:
        result = float(num) ** 2
        document.getElementById("output").innerText = f"Result: {result:g}"
    except Exception:
        document.getElementById("output").innerText = "Invalid input"
          </py-script>
        </div>
      </div>
<script>
(function initPyDemo(){
  const btn = document.getElementById("squareBtn");
  const out = document.getElementById("output");
  if (!btn || !out) return;

  function wire() {
    try {
      const pyFunc = window.pyscript?.interpreter?.globals?.get?.("square_number");
      if (typeof pyFunc === "function") {
        btn.disabled = false;
        btn.textContent = "Square it!";
        btn.onclick = () => pyFunc();
        return true;
      }
    } catch(e){}
    return false;
  }

  // 1) Try immediately (covers case where PyScript is already ready)
  if (wire()) return;

  // 2) Listen for py:ready (covers normal case)
  document.addEventListener("py:ready", wire, { once:true });

  // 3) Tiny fallback poll (covers odd timing)
  let tries = 0;
  const t = setInterval(() => {
    if (wire() || ++tries > 20) clearInterval(t);
  }, 200);

  // Friendly message if user clicks too soon
  btn.addEventListener("click", () => {
    if (btn.disabled) out.textContent = "âš™ï¸ Still loading PyScript runtime...";
  });
})();
</script>

      <!-- CENTER TITLE -->
      <div class="projects-center">
        <h1 class="projects-title">ğŸš€ Projects Coming Soon</h1>
        <p class="projects-sub">A showcase of my current and upcoming creations âœ¨</p>
        <a href="index.html" class="back-home">â† Back to Home</a>
      </div>

      <!-- RIGHT COLUMN -->
      <div class="projects-col right">
       <div class="quiz-container">
  <h3 class="quiz-title">ğŸ’­ SQL Mini Quiz</h3>
  <p class="quiz-sub">Test your SQL knowledge â€” one question at a time!</p>

  <div class="quiz-question">1. Which SQL keyword retrieves data?</div>

  <div class="quiz-options">
    <button class="quiz-btn">GET</button>
    <button class="quiz-btn">SELECT</button>
    <button class="quiz-btn">FETCH</button>
    <button class="quiz-btn">SHOW</button>
  </div>

  <button class="next-question">Next Question</button>
</div>

        <!-- ğŸ± Cat Name Generator -->
        <div class="project-card">
          <h3>ğŸ± Random Cat Name Generator</h3>
          <p>Generate a unique cat hero name!</p>
          <button id="catNameBtn" class="fun-btn">Generate Cat Name</button>
          <p id="catNameOutput" style="margin-top:10px; font-weight:bold; font-size:1.1rem;"></p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer>
    Â© 2025 My Dev Journey Â· built with ğŸ’œ
  </footer>

  <!-- ===== FLOATING EMOJIS + DEBUGGING STATUS ===== -->
  <div id="emoji-container"></div>
  <div id="dev-status"></div>

  <!-- ===== PAGE SCRIPT ===== -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    /* === CLOCK === */
    const clock = document.getElementById("uk-clock");
    function tick() {
      if (clock) {
        clock.textContent = new Date().toLocaleTimeString("en-GB", {
          timeZone: "Europe/London",
          hour: "2-digit", minute: "2-digit", second: "2-digit", hour12: false
        });
      }
    }
    tick();
    setInterval(tick, 1000);

    /* === THEME TOGGLE === */
    const themeBtn = document.getElementById("theme-toggle");
    const THEME_KEY = "siteTheme";
    const savedTheme = localStorage.getItem(THEME_KEY) || "dark";
    document.body.classList.toggle("light", savedTheme === "light");
    themeBtn.textContent = savedTheme === "light" ? "ğŸŒ™ Dark Mode" : "ğŸŒ Light Mode";
    themeBtn.addEventListener("click", () => {
      const next = document.body.classList.contains("light") ? "dark" : "light";
      document.body.classList.toggle("light", next === "light");
      localStorage.setItem(THEME_KEY, next);
      themeBtn.textContent = next === "light" ? "ğŸŒ™ Dark Mode" : "ğŸŒ Light Mode";
    });

    /* === SQL QUIZ === */
    const quizData = [
      { q: "Which SQL keyword retrieves data?", o: ["GET","SELECT","FETCH","SHOW"], a: "SELECT" },
      { q: "Which clause filters rows?", o: ["ORDER BY","WHERE","GROUP BY","HAVING"], a: "WHERE" },
      { q: "Which adds new data?", o: ["ADD","INSERT INTO","UPDATE","APPEND"], a: "INSERT INTO" },
      { q: "Which deletes a table?", o: ["DELETE FROM","DROP TABLE","REMOVE","TRUNCATE"], a: "DROP TABLE" }
    ];
    const quizContainer = document.getElementById("quiz-container");
    const nextBtn = document.getElementById("next-btn");
    const resultText = document.getElementById("result");
    const progressFill = document.getElementById("quiz-progress");
    if (quizContainer && nextBtn && resultText && progressFill) {
      let i = 0, score = 0;
      function draw() {
        const q = quizData[i];
        quizContainer.innerHTML = `
          <p><strong>${i+1}. ${q.q}</strong></p>
          ${q.o.map(opt => `<label><input type="radio" name="ans" value="${opt}"> ${opt}</label><br>`).join('')}
        `;
        resultText.textContent = "";
        progressFill.style.width = (i / quizData.length) * 100 + "%";
      }
      nextBtn.onclick = () => {
        const picked = document.querySelector('input[name="ans"]:checked');
        if (!picked) return resultText.textContent = "âš ï¸ Select an answer!";
        if (picked.value === quizData[i].a) score++;
        i++;
        if (i < quizData.length) draw();
        else {
          quizContainer.innerHTML = `<h3>ğŸ‰ You scored ${score}/${quizData.length}!</h3>`;
          nextBtn.style.display = "none";
          progressFill.style.width = "100%";
        }
      };
      draw();
    }

    /* === CAT GENERATOR === */
    const catBtn = document.getElementById("catNameBtn");
    const catOut = document.getElementById("catNameOutput");
    if (catBtn && catOut) {
      const prefixes = ["Sir","Lady","Captain","Doctor","Agent","Professor","Chief","Lord","Queen","Count"];
      const names = ["Galaxy Whiskers","Slimepaw","Beeclaw","Suitpaw","Ivyfur","Pixel","Mochi","Shadow","Luna","Ember"];
      const suffixes = [
        "the Brave ğŸŒŸ","of the Portal ğŸŒ€","the Sneaky ğŸ‘»","of the Ivy ğŸª´",
        "the Adventurer ğŸš€","the Dreamer ğŸ’¤","the Coder ğŸ®",
        "of Rogue Whiskers ğŸ‘‘","of the Galaxy ğŸŒ ","the Wanderer ğŸ§­"
      ];
      catBtn.addEventListener("click", () => {
        const p = prefixes[Math.floor(Math.random() * prefixes.length)];
        const n = names[Math.floor(Math.random() * names.length)];
        const s = suffixes[Math.floor(Math.random() * suffixes.length)];
        catOut.textContent = `${p} ${n} ${s}`;
      });
    }

    /* === FIXED PYSCRIPT === */
    document.addEventListener("py:ready", () => {
      const btn = document.getElementById("squareBtn");
      const out = document.getElementById("output");
      try {
        const pyFunc = pyscript.runtime.globals.get("square_number"); // âœ… fixed
        btn.disabled = false;
        btn.textContent = "Square it!";
        btn.onclick = () => pyFunc();
      } catch (err) {
        out.textContent = "âš ï¸ PyScript function not found!";
        console.error(err);
      }
    });

    /* === DEBUGGING TEXT === */
    const statusEl = document.getElementById("dev-status");
    if (statusEl) {
      const messages = [
        "ğŸ¾ Generating cat names...",
        "ğŸ® Squaring some numbers...",
        "ğŸ§¶ Compiling whiskers...",
        "ğŸ Feeding the Python...",
        "ğŸª´ Growing new ideas...",
        "ğŸ’¾ Saving project progress...",
        "ğŸš€ Launching cat projects...",
        "âœ¨ Polishing fur textures...",
        "ğŸ˜º Debugging pawsitive code..."
      ];
      let i = 0, j = 0, del = false;
      function type() {
        const cur = messages[i];
        statusEl.textContent = cur.slice(0, j);
        j += del ? -1 : 1;
        if (!del && j === cur.length) { del = true; setTimeout(type, 1000); return; }
        if (del && j === 0) { del = false; i = (i + 1) % messages.length; }
        setTimeout(type, del ? 40 : 90);
      }
      type();
    }

    /* === FLOATING EMOJIS === */
    const emojiContainer = document.getElementById("emoji-container");
    function spawnEmoji() {
      if (!emojiContainer) return;
      const list = ["ğŸ¾","ğŸˆ","ğŸ˜¸","ğŸ§¶","ğŸŒŒ","ğŸˆâ€â¬›"];
      const e = document.createElement("div");
      e.className = "float-emoji";
      e.textContent = list[Math.floor(Math.random() * list.length)];
      e.style.left = Math.random() * 100 + "vw";
      e.style.animationDuration = 3 + Math.random() * 3 + "s";
      emojiContainer.appendChild(e);
      setTimeout(() => e.remove(), 7000);
    }
    setInterval(spawnEmoji, 1500);
  });
  </script>
</body>
</html>
